/* Tailwind base layer must come first */
@tailwind base;

/* CSS Variables in base layer */
@layer base {
  :root {
    --background: 250 250 250;
    --foreground: 26 26 26;
    --primary: 14 165 233;
    --secondary: 241 245 249;
  }

  @media (prefers-color-scheme: dark) {
    :root {
      --background: 10 10 10;
      --foreground: 250 250 250;
      --primary: 14 165 233;
      --secondary: 30 41 59;
    }
  }

  /* Explicit dark mode override for immediate application */
  html.dark {
    --background: 10 10 10;
    --foreground: 250 250 250;
    --primary: 14 165 233;
    --secondary: 30 41 59;
  }

  /* Core styles in base layer */
  body {
    @apply bg-background text-foreground antialiased;
    font-feature-settings: "rlig" 1, "calt" 1;
  }

  /* Ensure proper font metrics */
  html {
    text-size-adjust: 100%;
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
  }
}

/* Components layer after base */
@tailwind components;

/* Component styles */
@layer components {
  .glass-effect {
    @apply bg-white/10 backdrop-blur-lg border border-white/20;
  }
}

/* Utilities layer last */
@tailwind utilities;

/* Utility styles */
@layer utilities {
  .animate-float {
    animation: float 3s ease-in-out infinite;
  }
}

/* Animations outside layers to prevent purge */
@keyframes float {
  0%, 100% { transform: translateY(0px); }
  50% { transform: translateY(-10px); }
}
